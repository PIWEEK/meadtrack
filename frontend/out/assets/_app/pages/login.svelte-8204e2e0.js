import{S as Y,i as Z,s as $,e as o,t as O,k as D,c as i,a as m,g as P,d as u,n as T,b as t,f as ee,E as e,a3 as q,O as C,a4 as se,I as Q,W as te,F as ae,N as le}from"../chunks/vendor-7b1553fa.js";import{g as re}from"../chunks/navigation-51f4a605.js";import{u as X}from"../chunks/user-1d418f0f.js";import"../chunks/singletons-12a22614.js";function oe(h){let c,s,d,_,b,y,x,N,a,n,E,w,l,r,g,j,A,B,p,M,L,I,U,W,F;return{c(){c=o("div"),s=o("form"),d=o("h1"),_=O("Welcome to Merrybrew!"),b=D(),y=o("h2"),x=O("During early access please request a user via invite@merrybrew.app"),N=D(),a=o("div"),n=o("label"),E=O("Email"),w=D(),l=o("input"),r=D(),g=o("div"),j=o("label"),A=O("Password"),B=D(),p=o("input"),M=D(),L=o("div"),I=o("button"),U=O("Login"),this.h()},l(v){c=i(v,"DIV",{class:!0});var k=m(c);s=i(k,"FORM",{class:!0});var f=m(s);d=i(f,"H1",{class:!0});var H=m(d);_=P(H,"Welcome to Merrybrew!"),H.forEach(u),b=T(f),y=i(f,"H2",{class:!0});var J=m(y);x=P(J,"During early access please request a user via invite@merrybrew.app"),J.forEach(u),N=T(f),a=i(f,"DIV",{class:!0});var S=m(a);n=i(S,"LABEL",{for:!0,class:!0});var R=m(n);E=P(R,"Email"),R.forEach(u),w=T(S),l=i(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(u),r=T(f),g=i(f,"DIV",{class:!0});var V=m(g);j=i(V,"LABEL",{for:!0,class:!0});var z=m(j);A=P(z,"Password"),z.forEach(u),B=T(V),p=i(V,"INPUT",{type:!0,placeholder:!0,class:!0}),V.forEach(u),M=T(f),L=i(f,"DIV",{class:!0});var G=m(L);I=i(G,"BUTTON",{class:!0,type:!0});var K=m(I);U=P(K,"Login"),K.forEach(u),G.forEach(u),f.forEach(u),k.forEach(u),this.h()},h(){t(d,"class","text-center text-2xl pb-2 font-bold"),t(y,"class","text-center text-lg pb-2 font-bold"),t(n,"for","email"),t(n,"class","svelte-1i0164s"),t(l,"type","email"),t(l,"placeholder","Enter your email"),t(l,"class","svelte-1i0164s"),t(a,"class","my-1"),t(j,"for","password"),t(j,"class","svelte-1i0164s"),t(p,"type","password"),t(p,"placeholder","Enter your password"),t(p,"class","svelte-1i0164s"),t(g,"class","my-1"),t(I,"class","submit svelte-1i0164s"),t(I,"type","submit"),t(L,"class","my-3"),t(s,"class","container mx-auto"),t(c,"class","p-10 max-w-3xl")},m(v,k){ee(v,c,k),e(c,s),e(s,d),e(d,_),e(s,b),e(s,y),e(y,x),e(s,N),e(s,a),e(a,n),e(n,E),e(a,w),e(a,l),q(l,h[0]),e(s,r),e(s,g),e(g,j),e(j,A),e(g,B),e(g,p),q(p,h[1]),e(s,M),e(s,L),e(L,I),e(I,U),W||(F=[C(l,"input",h[3]),C(p,"input",h[4]),C(s,"submit",se(h[2]))],W=!0)},p(v,[k]){k&1&&l.value!==v[0]&&q(l,v[0]),k&2&&p.value!==v[1]&&q(p,v[1])},i:Q,o:Q,d(v){v&&u(c),W=!1,te(F)}}}function ie(h,c,s){let d;ae(h,X,a=>s(5,d=a));let _="",b="";async function y(){var a,n,E,w;const l=await fetch("https://api.merrybrew.app/auth/local",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({identifier:_,password:b})});if(l.ok){const r=await l.json();localStorage.setItem("token",r.jwt),r&&(le(X,d=r.user,d),re("/"))}else{const r=await l.json();((w=(E=(n=(a=r==null?void 0:r.message)===null||a===void 0?void 0:a[0])===null||n===void 0?void 0:n.messages)===null||E===void 0?void 0:E[0])===null||w===void 0?void 0:w.message)&&alert(r.message[0].messages[0].message)}}function x(){_=this.value,s(0,_)}function N(){b=this.value,s(1,b)}return[_,b,y,x,N]}class pe extends Y{constructor(c){super();Z(this,c,ie,oe,$,{})}}export{pe as default};
