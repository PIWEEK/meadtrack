import{S as M,i as L,s as q,e as $,k as z,c as g,a as y,d as u,n as D,b as _,D as U,f as E,E as k,r as F,u as v,w as G,x as b,F as O,G as P,H as Q,j as T,m as V,o as B,I,v as H,t as R,g as W,J as X,K as Y,L as Z,l as J,A as ee,M as te,N as se}from"../chunks/vendor-7b1553fa.js";import{u as S}from"../chunks/user-1d418f0f.js";function re(o){let t,r;return t=new P({props:{icon:Q,size:"2x"}}),{c(){T(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){B(t,e,s),r=!0},p:I,i(e){r||(b(t.$$.fragment,e),r=!0)},o(e){v(t.$$.fragment,e),r=!1},d(e){H(t,e)}}}function ae(o){let t,r;return{c(){t=$("a"),r=R("Login"),this.h()},l(e){t=g(e,"A",{href:!0,class:!0});var s=y(t);r=W(s,"Login"),s.forEach(u),this.h()},h(){_(t,"href","/login"),_(t,"class","font-mono font-serif no-underline")},m(e,s){E(e,t,s),k(t,r)},p:I,i:I,o:I,d(e){e&&u(t)}}}function ne(o){let t,r,e,s,a,n,l,m,i,f,w;const N=[ae,re],p=[];function j(c,d){return c[0]?1:0}return i=j(o),f=p[i]=N[i](o),{c(){t=$("nav"),r=$("div"),e=$("section"),s=$("a"),a=$("img"),l=z(),m=$("section"),f.c(),this.h()},l(c){t=g(c,"NAV",{class:!0});var d=y(t);r=g(d,"DIV",{class:!0});var h=y(r);e=g(h,"SECTION",{});var x=y(e);s=g(x,"A",{href:!0,class:!0});var A=y(s);a=g(A,"IMG",{class:!0,src:!0,alt:!0}),A.forEach(u),x.forEach(u),l=D(h),m=g(h,"SECTION",{});var C=y(m);f.l(C),C.forEach(u),h.forEach(u),d.forEach(u),this.h()},h(){_(a,"class","flex"),U(a.src,n="/logo.png")||_(a,"src",n),_(a,"alt","Merrybrew"),_(s,"href","/"),_(s,"class","font-bold font-serif no-underline"),_(r,"class","flex items-center justify-between container mx-auto"),_(t,"class","bg-white border-b border-gray-500 py-2 px-4 max-w-4xl")},m(c,d){E(c,t,d),k(t,r),k(r,e),k(e,s),k(s,a),k(r,l),k(r,m),p[i].m(m,null),w=!0},p(c,[d]){let h=i;i=j(c),i===h?p[i].p(c,d):(F(),v(p[h],1,1,()=>{p[h]=null}),G(),f=p[i],f?f.p(c,d):(f=p[i]=N[i](c),f.c()),b(f,1),f.m(m,null))},i(c){w||(b(f),w=!0)},o(c){v(f),w=!1},d(c){c&&u(t),p[i].d()}}}function oe(o,t,r){let e;return O(o,S,s=>r(0,e=s)),[e]}class le extends M{constructor(t){super();L(this,t,oe,ne,q,{})}}function K(o){let t,r,e;t=new le({});const s=o[2].default,a=te(s,o,o[1],null);return{c(){T(t.$$.fragment),r=z(),a&&a.c()},l(n){V(t.$$.fragment,n),r=D(n),a&&a.l(n)},m(n,l){B(t,n,l),E(n,r,l),a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&2)&&X(a,s,n,n[1],e?Z(s,n[1],l,null):Y(n[1]),null)},i(n){e||(b(t.$$.fragment,n),b(a,n),e=!0)},o(n){v(t.$$.fragment,n),v(a,n),e=!1},d(n){H(t,n),n&&u(r),a&&a.d(n)}}}function ce(o){let t,r,e=!o[0]&&K(o);return{c(){e&&e.c(),t=J()},l(s){e&&e.l(s),t=J()},m(s,a){e&&e.m(s,a),E(s,t,a),r=!0},p(s,[a]){s[0]?e&&(F(),v(e,1,1,()=>{e=null}),G()):e?(e.p(s,a),a&1&&b(e,1)):(e=K(s),e.c(),b(e,1),e.m(t.parentNode,t))},i(s){r||(b(e),r=!0)},o(s){v(e),r=!1},d(s){e&&e.d(s),s&&u(t)}}}function ie(o,t,r){let e;O(o,S,l=>r(3,e=l));let{$$slots:s={},$$scope:a}=t,n=!0;return ee(async()=>{if(!localStorage.getItem("token"))return r(0,n=!1),{props:{user:null}};const l=await fetch("https://api.merrybrew.app/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),m=await l.json();r(0,n=!1),l.ok&&se(S,e=m,e)}),o.$$set=l=>{"$$scope"in l&&r(1,a=l.$$scope)},[n,a,s]}class _e extends M{constructor(t){super();L(this,t,ie,ce,q,{})}}export{_e as default};
